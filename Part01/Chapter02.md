# Chapter02 리눅스의 설치
## 파티션(Partition)
파티션이란, 하나의 물리적 디스크를 여러 개의 논리적인 디스크로 분할하는 것을 말한다. 다중 파티션의 장점은 다음과 같다.
- 파티션마다 독립적인 파일시스템이 운영되기 때문에 부팅시 파일 점검 시간이 줄어들어 빠르게 부팅할 수 있다.
- 특정 파티션의 파일 시스템이 손상되어도 다른 파티션에 영향을 주지 않아 안정적이다.
- 필요한 파티션만 포맷할 수 있기 때문에 백업과 업그레이드가 편리하다.
- 파티션 상태정보를 확인할 수 있는 파일은 `/proc/partitions`다.

## 파티션의 종류
파티션은 다음과 같은 종류로 나뉜다.
- 주 파티션(Primary Partition)
	- 부팅이 가능한 기본 파티션
	- 하나의 디스크에 최대 4개의 주 파티션 분할 가능
	- 4개 이상 필요할 경우 하나의 파티션을 확장 파티션으로 설정한 후 그 안에 논리 파티션 구성
- 확장 파티션(Extended Partition)
	- 주 파티션 내에 생성하며, 하나의 디스크에 한개만 생성
	- 파티션 번호는 1~4번이 할당됨.
	- 데이터 저장목적이 아닌 논리 파티션 생성이 목적
- 논리 파티션(Logical Partition)
	- 확장 파티션 안에 생성.
	- 12이상 생성하지 않는것을 권장
	- 5번 이후 번호가 붙여짐
- 스왑 파티션(Swap Partition)
	- 디스크의 일부를 메모리처럼 사용
	- 주 파티션 또는 논리파티션에 생성
	- 부족한 메모리 용량을 디스크로 대체
	- 스왑 영역의 크기는 메모리의 2배를 설정하도록 권고

## 디스크와 장치명
분할된 파티션은 디스크의 장치 파일명 뒤에 숫자를 붙인다. 규칙은 다음과 같다.
- 하드디스크 유형
	- sd : SCSI(Small Computer Small Interface) 또는 USB 방식 디스크
	- hd : IDE 또는 ATA(AT attachment)방식 디스크
	- xd : XT 디스크
	- fd : 플로피 디스크
	- sc, sr : CD-ROM
- 하드디스크 우선순위
	- 첫 번째 하드디스크 : a
	- 두 번째 하드디스크 : b
- 파티션 번호
	- Primary 또는 Extended : 1 ~ 4
	- Logical : 5 ~

## 파일시스템
- 파일 시스템은 운영체제가 파일을 디스크에 구성할 때, 일정한 규칙을 가지고 저장하게 되는데, 이 때 이 규칙을 말한다.
- 파티션에 파일 시스템이 없으면 파일 시스템 생성을 거쳐야 한다.
- 리눅스는 고유의 파일 시스템 뿐만 아니라 다양한 파일 시스템을 지원한다.
- 파일시스템의 종류는 아래와 같다.
	- 리눅스 전용 파일 시스템
		- ext, ext2, ext3, ext4
	- 저널링 파일 시스템
		- JFS, XFS, ReiserFS
	- 네트워크 파일 시스템
		- SMB, CIFS, NFS
	- 클러스터링 파일 시스템
		- GFS, CFS
	- 시스템 파일 시스템
		- ISO9660, UDF
	- 타 운영체제 파일 시스템
		- FAT, VFAT, FAT32, NTFS, HPFS, SysV

## LVM
- 여러개의 하드디스크를 하나로 합쳐서 사용하는 기술이다.
- 작은 용량의 하드디스크 여러 개를 큰 용량의 하나의 하드처럼 사용한다.
- 서버를 운영하면서 대용량의 별도 저장 공간이 필요할 때 활용된다.
- LVM의 구성은 다음과 같다.
	- 물리 볼륨 : 여러개의 물리적 디스크
	- 볼륨 그룹 : 물리 볼륨을 합쳐서 하나의 디스크처럼 만드는 것
	- 논리 볼륨 : 하나의 볼륨 그룹을 원하는 크기만큼 나누는 것

## RAID
- RAID는 복수 배열 독립 디스크(Redundant Array of Independent Disks)의 약자이다.
- 여러 개의 물리적 디스크를 하나의 논리적 디스크로 인식하여 작동하게 하는 기술이다.
- RAID는 다음과 같이 분류된다
	- 하드웨어 RAID
		- 제조업체에서 애초에 하드디스크를 RAID 장비로 제조해서 판매
		- 안정된 기술이 적용될 수록 고가

	- 소프트웨어 RAID
		- 하드웨어 RAID의 비싼 가격을 해결하기 위한 방안
		- 운영체제에서 지원하는 방식
		- 저렴한 비용으로 안전하게 데이터 저장이 가능
- RAID 기술은 다양한 방법으로 구현할 수 있고, 이 방법은 레벨이라는 단위로 구분된다.
- 레벨에 따라 신뢰성, 성능 등 여러 요소가 조절이 된다. 상황에 맞게 사용하면 된다.
- 각 레벨은 다음과 같다.
	- RAID 0
		- 스트라이핑 저장 방식(연속된 데이터를 여러 디스크에 나누어 저장)
		- 최소 두개의 디스크가 필요
		- 입출력 작업이 모든 디스크에서 동시 진행(속도가 빠르지만 모든 디스크가 동작해야함)
		- 안정성이 낮아 중요한 데이터 저장에는 부적합
	- RAID 1
		- 미러링 방식(하나의 디스크에 데이터를 저장하면 다른 디스크에 백업됨)
		- 데이터 저장 용량이 두배가 필요해진다.
		- 공간을 비효율적으로 사용하게 되지만 안정성이 높아진다
		- 중요한 데이터 저장에 적합하다.
	- RAID 2
		- 스트라이핑 저장 방식
		- 기록용 디스크와 복구용 디스크를 별도 제공
		- 공간 효율이 낮음
		- 에러검출이 기능이나 SCSI 디스크에 이미 탑재하고 있기 때문에 잘 사용하지 않음
	- RAID 3
		- 스트라이핑 저장 방식
		- 오류검출을 위해 패리티 방식(XOR) 적용
		- 패리티 정보 저장을 위해 최소 3개 이상 디스크가 필요
		- 대형 레코드 사용자에게 적합
	- RAID 4
		- RAID3과 비슷한 방식
		- RAID3은 Byte 단위로 저장하지만 4는 섹터단위로 저장
	- RAID 5
		- 스트라이핑 저장방식
		- 디스크마다 패리티 정보 저장(패리티 디스크 병목현상 감소)
		- 섹터단위 저장
		- 쓰기작업이 적은 사용자에게 권장
		- 병목현상 감소로 실무에서 많이 사용
	- RAID 6
		- RAID5를 확장
		- 이중 패리티 사용(무정지성)
		- 최소 4개 드라이브 필요
- 비슷한 레벨끼리 비교해보면 아래와 같다.
	- RAID 0 vs RAID 1  

|구분|RAID 0|RAID 1|
|:---:|:---:|:---:|
|성능|뛰어남|변화없음|
|안정성(결합)|낮음|높음(허용)|
|공간효율|좋음|낮음|

	- RAID 5 vs RAID 6 
|구분|RAID 5|RAID 6|
|:---:|:---:|:---:|
|Parity|단일|이중|
|보호|1개 불량|2개 불량|
|필요조건|최소 3개 드라이브|최소 4개 드라이브|


## 파티션 분할









